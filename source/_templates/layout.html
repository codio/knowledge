{% extends "!layout.html" %}

{% block extrahead %}
  {{ super() }}
  <script>
    (function () {
      try {
        var saved = localStorage.getItem('darkMode') || 'auto';
        var systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        var scheme = saved === 'auto' ? (systemDark ? 'dark' : 'light') : saved;

        var html = document.documentElement;

        html.setAttribute('data-theme', scheme);
        html.classList.remove('theme-light','theme-dark','light','dark');
        html.classList.add('theme-' + scheme, scheme);

        html.style.colorScheme = scheme;
      } catch (e) { /* ignore */ }
    })();
  </script>
{% endblock %}

{% block footer %}
{{ super() }}
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EL440DKDDY"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EL440DKDDY');
</script>
<!-- Start of HubSpot Embed Code -->
<script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/2227229.js"></script>
<!-- End of HubSpot Embed Code -->
{% endblock %}
